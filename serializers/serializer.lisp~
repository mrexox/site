(in-package :ian.mrexox.site)

;; Serializer instance
;  (def-serializer post-serializer ()
;    (:attrs 'id 'title 'text 'created-at 'permalink)
;    (:key 'id "my-id")
;    (:has-many 'tags))


(defclass serializer ()
  ((object :initarg :object
	   :initform (error "Must apply an object to serialize")
	   :reader obj)
   (attrs :initarg :attrs
	  ;; Attrs is an a-list with (attr-name . attr-json-key)
	  :initform (list '(id . "id"))
	  :reader attrs)
   (relationsips :initarg :relationships
		 :initform nil
		 :reader relationships)))
